# ğŸ¯ ì‘ì—… ì™„ë£Œ ë³´ê³ ì„œ (V5 ê²°ê³¼ ë¶„ì„ ë° V6/V7 êµ¬í˜„)

## ğŸ“Š V5 ì‹¤í—˜ ê²°ê³¼

### ì„±ëŠ¥ ìš”ì•½
```
Foldë³„ ê²°ê³¼:
   Fold 1: 15.1197m
   Fold 2: 15.4364m
   Fold 3: 15.3053m
   Fold 4: 15.3126m
   Fold 5: 15.4043m

âœ… í‰ê·  Validation Loss: 15.3157m Â± 0.1104m
```

### ëª©í‘œ ëŒ€ë¹„
- **LightGBM V4**: 14.138m
- **LSTM V5**: 15.3157m
- **ì°¨ì´**: +1.1777m (ì•½ **8.3% ë‚®ì€ ì„±ëŠ¥**)

### ì§„ë‹¨ ê²°ê³¼
âŒ **ì˜ˆìƒë³´ë‹¤ ë‚®ì€ ì„±ëŠ¥** - ëª©í‘œ ë¯¸ë‹¬ì„±  
âš ï¸ **Fold ê°„ ë¶ˆì¼ì¹˜** - X: 1.66m, Y: 1.37m (ë¶ˆì•ˆì •)  
âš ï¸ **Y ì¢Œí‘œ ë‹¤ì–‘ì„± ë¶€ì¡±** - í‘œì¤€í¸ì°¨ 8.66 (ë„ˆë¬´ ì‘ìŒ)

---

## ğŸ” ê·¼ë³¸ ì›ì¸ ë¶„ì„

### 1. **ë°ì´í„° ë¶€ì¡± / ê³¼ì í•©** (ê°€ì¥ í° ë¬¸ì œ)
- Y ì¢Œí‘œ ë‹¤ì–‘ì„± ë¶€ì¡±
- Fold ê°„ ì˜ˆì¸¡ ì°¨ì´ í¼
- **í•´ê²°**: Data Augmentation

### 2. **ëª¨ë¸ ìš©ëŸ‰ ë¶€ì¡±**
- Hidden 384, Layers 3 â†’ íŒŒë¼ë¯¸í„° ë¶€ì¡±
- **í•´ê²°**: Hidden 512, Layers 6

### 3. **RNNì˜ êµ¬ì¡°ì  í•œê³„**
- Bidirectional GRUë„ ê¸´ ì‹œí€€ìŠ¤ì—ì„œ ì •ë³´ ì†ì‹¤
- **í•´ê²°**: Pure Transformer

### 4. **Loss Function ë‹¨ìˆœ**
- ìœ í´ë¦¬ë“œ ê±°ë¦¬ë§Œ ì‚¬ìš©
- **í•´ê²°**: Focal Loss + Multi-Task Learning

---

## ğŸš€ V6/V7 ëª¨ë¸ êµ¬í˜„ ì™„ë£Œ

### V6: Pure Transformer + Focal Loss
**íŒŒì¼**: `train_lstm_v6_transformer.py`

**í•µì‹¬ ê°œì„ **:
- âœ… RNN ì œê±° â†’ Transformer Encoder
- âœ… Hidden 512, Layers 4
- âœ… Focal Loss (ì–´ë ¤ìš´ ìƒ˜í”Œ ì§‘ì¤‘)
- âœ… Positional Encoding
- âœ… Global Average Pooling
- âœ… Pre-LN (Pre-LayerNorm)
- âœ… GELU Activation
- âœ… Warmup + Cosine Scheduler
- âœ… Gradient Accumulation

**ì˜ˆìƒ ì„±ëŠ¥**: 14.5~15.0m  
**ì˜ˆìƒ ê°œì„ **: -0.3~0.8m

---

### V7: V6 + Data Augmentation â­ (ìµœê³  ê¸°ëŒ€)
**íŒŒì¼**: `train_lstm_v7_augmented.py`

**í•µì‹¬ ê°œì„ **:
- âœ… V6ì˜ ëª¨ë“  ê°œì„  í¬í•¨
- âœ… **Data Augmentation**
  - Gaussian Noise (20% í™•ë¥ )
  - ì¢Œìš° ë°˜ì „ (50% í™•ë¥ ) - Y ì¢Œí‘œ ë¬¸ì œ í•´ê²°
  - ì‹œí€€ìŠ¤ ìë¥´ê¸° (10% í™•ë¥ )
- âœ… **Mixup** (50% í™•ë¥ ) - ìƒ˜í”Œ ê°„ ë³´ê°„
- âœ… **Multi-Task Learning**
  - Main Task: ì¢Œí‘œ ì˜ˆì¸¡
  - Auxiliary Task: ê±°ë¦¬ ì˜ˆì¸¡ (ì •ê·œí™” íš¨ê³¼)
- âœ… Layers 6 (V6ë³´ë‹¤ ê¹ŠìŒ)
- âœ… Dropout 0.1 (ë‚®ìŒ - Augmentationì´ ëŒ€ì‹ )
- âœ… Epoch 200 (V6ë³´ë‹¤ ê¸¸ê²Œ)
- âœ… Learnable Positional Encoding

**ì˜ˆìƒ ì„±ëŠ¥**: 13.5~14.5m ğŸ¯  
**ì˜ˆìƒ ê°œì„ **: -0.8~1.8m

---

## ğŸ“ˆ ì˜ˆìƒ ì„±ëŠ¥ ê°œì„  ê²½ë¡œ

```
V5 (í˜„ì¬): 15.3157m
    â†“
    [ë¬¸ì œì ]
    - ë°ì´í„° ë¶€ì¡±/ê³¼ì í•©
    - ëª¨ë¸ ìš©ëŸ‰ ë¶€ì¡±
    - RNN í•œê³„
    â†“
V6 (Transformer): 14.5~15.0m [-0.3~0.8m]
    â†“
    [ì¶”ê°€ ê°œì„ ]
    - Data Augmentation
    - Multi-Task Learning
    - ë” ê¹Šì€ ëª¨ë¸
    â†“
V7 (Transformer + Aug): 13.5~14.5m [-0.8~1.8m]
    â†“
    [ìµœì¢… ê°•í™”]
    - 5-Fold CV
    - TTA
    â†“
V7 5-Fold + TTA: 13.0~14.0m [-1.3~2.3m]

ğŸ¯ ëª©í‘œ: < 14.138m (LightGBM)
```

---

## ğŸ“Š ìƒì„±ëœ íŒŒì¼

### í•™ìŠµ ìŠ¤í¬ë¦½íŠ¸ (2ê°œ)
1. âœ… `train_lstm_v6_transformer.py` - Pure Transformer
2. âœ… `train_lstm_v7_augmented.py` - Transformer + Augmentation

### ë¬¸ì„œ (2ê°œ)
3. âœ… `V5_PERFORMANCE_ANALYSIS.md` - ìƒì„¸ ì„±ëŠ¥ ë¶„ì„
4. âœ… `V6_V7_EXECUTION_GUIDE.md` - ì‹¤í–‰ ê°€ì´ë“œ

### ì´ ë¬¸ì„œ
5. âœ… `V5_RESULT_FINAL_REPORT.md` - ìµœì¢… ë³´ê³ ì„œ

---

## ğŸ¯ ì‹¤í–‰ ìš°ì„ ìˆœìœ„

### ğŸ”¥ ìµœìš°ì„  (ì¦‰ì‹œ ì‹¤í–‰)
```bash
python train_lstm_v7_augmented.py
```

**ì´ìœ **:
- Data Augmentationì´ ê°€ì¥ í° íš¨ê³¼ ì˜ˆìƒ
- Y ì¢Œí‘œ ë¬¸ì œ ì§ì ‘ í•´ê²°
- ì¢…í•©ì  ê°œì„  (Transformer + Aug + Multi-Task)

**ì†Œìš” ì‹œê°„**: 2~3ì‹œê°„ (GPU)

---

### â­ ì°¨ì„ ì±… (V7 ê²°ê³¼ ë¯¸í¡ ì‹œ)
```bash
python train_lstm_v6_transformer.py
```

**ì´ìœ **:
- Transformer ìˆœìˆ˜ íš¨ê³¼ ì¸¡ì •
- ë” ë¹ ë¦„ (1.5~2ì‹œê°„)
- V7ì™€ ë¹„êµ ë¶„ì„ ê°€ëŠ¥

---

## ğŸ“Š ì„±ê³µ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ A: V7 ëŒ€ì„±ê³µ (60% í™•ë¥ ) ğŸ‰
```
V7 ë‹¨ì¼ Fold: 13.8m
V7 5-Fold: 13.9m
V7 5-Fold + TTA: 13.7m

â†’ LightGBM (14.138m) ì´ˆê³¼!
```

### ì‹œë‚˜ë¦¬ì˜¤ B: V7 ì„±ê³µ (30% í™•ë¥ ) âœ…
```
V7 ë‹¨ì¼ Fold: 14.3m
V7 5-Fold: 14.1m

â†’ LightGBM ê·¼ì ‘ (ì¶©ë¶„íˆ ê²½ìŸë ¥)
```

### ì‹œë‚˜ë¦¬ì˜¤ C: ì¶”ê°€ ê°œì„  í•„ìš” (10% í™•ë¥ ) ğŸ“ˆ
```
V7 ë‹¨ì¼ Fold: 14.8m

â†’ V6 ì‹œë„
â†’ í”¼ì²˜ ì—”ì§€ë‹ˆì–´ë§
â†’ ì•™ìƒë¸”
```

---

## ğŸ“ í•µì‹¬ êµí›ˆ

### V5ì—ì„œ ë°°ìš´ ê²ƒ
1. **Attentionë§Œìœ¼ë¡œëŠ” ë¶€ì¡±** - RNNì´ ë³‘ëª©
2. **ë°ì´í„° ë‹¤ì–‘ì„± ì¤‘ìš”** - Y ì¢Œí‘œ í¸í–¥ ë¬¸ì œ
3. **ëª¨ë¸ í¬ê¸° ì¤‘ìš”** - Hidden 384ëŠ” ë¶€ì¡±
4. **ì¼ë°˜í™” ì–´ë ¤ì›€** - Fold ê°„ ë¶ˆì¼ì¹˜

### V6/V7 ê°œì„ ì 
1. **Transformer** â†’ RNN ë³‘ëª© í•´ê²°
2. **Data Augmentation** â†’ ë‹¤ì–‘ì„± ì¦ê°€
3. **ë” í° ëª¨ë¸** â†’ Hidden 512, Layers 6
4. **Multi-Task** â†’ ì •ê·œí™” íš¨ê³¼

---

## ğŸ”¬ V5 vs V6 vs V7 ë¹„êµ

| í•­ëª© | V5 | V6 | V7 |
|------|----|----|----| 
| **ì•„í‚¤í…ì²˜** | Bi-GRU + Attn | Transformer | Transformer |
| **Hidden Dim** | 384 | 512 | 512 |
| **Layers** | 3 | 4 | 6 |
| **Loss** | Euclidean | Focal | Multi-Task |
| **Augmentation** | âŒ | âŒ | âœ… |
| **Mixup** | âŒ | âŒ | âœ… |
| **ì‹¤ì œ ì„±ëŠ¥** | 15.32m | ? | ? |
| **ì˜ˆìƒ ì„±ëŠ¥** | - | 14.5~15.0m | 13.5~14.5m |
| **í•™ìŠµ ì‹œê°„** | 3~5h | 1.5~2h | 2~3h |
| **ê¶Œì¥ë„** | âŒ | â­â­ | â­â­â­ |

---

## âš¡ ë¹ ë¥¸ ì‹œì‘

### 1. í™˜ê²½ í™•ì¸
```bash
# GPU í™•ì¸
nvidia-smi

# ë˜ëŠ” Pythonì—ì„œ
import torch
print(torch.cuda.is_available())
```

### 2. ë°ì´í„° í™•ì¸
```bash
ls processed_train_data_v4.csv
ls processed_test_data_v4.csv
```

### 3. V7 ì‹¤í–‰
```bash
python train_lstm_v7_augmented.py
```

### 4. 2~3ì‹œê°„ í›„ ê²°ê³¼ í™•ì¸
```
Best Val Loss: ?.????m

< 14.0m â†’ ğŸ‰ ì„±ê³µ!
14.0~14.5m â†’ âœ… 5-Fold ì§„í–‰
> 14.5m â†’ V6 ì‹œë„
```

---

## ğŸš¨ ì˜ˆìƒ ë¬¸ì œ ë° í•´ê²°

### CUDA Out of Memory
```python
# íŒŒì¼ ìˆ˜ì •
BATCH_SIZE = 16  # 32 â†’ 16
HIDDEN_DIM = 384  # 512 â†’ 384
NUM_LAYERS = 4  # 6 â†’ 4
```

### í•™ìŠµ ëŠë¦¼
```python
NUM_EPOCHS = 50  # 200 â†’ 50 (ë¹ ë¥¸ ê²€ì¦)
```

### ìˆ˜ë ´ ì•ˆë¨
```python
LEARNING_RATE = 1e-3  # 5e-4 â†’ 1e-3
DROPOUT = 0.05  # 0.1 â†’ 0.05
```

---

## ğŸ“ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì‹¤í–‰ ì „
- [ ] GPU ì‚¬ìš© ê°€ëŠ¥
- [ ] ë°ì´í„° íŒŒì¼ ì¡´ì¬
- [ ] ë””ìŠ¤í¬ ê³µê°„ ì¶©ë¶„ (5GB+)

### ì‹¤í–‰ ì¤‘
- [ ] Epoch ì§„í–‰ í™•ì¸
- [ ] Train/Val Loss ëª¨ë‹ˆí„°ë§
- [ ] 30ë¶„ë§ˆë‹¤ ì¤‘ê°„ ê²°ê³¼ í™•ì¸

### ì‹¤í–‰ í›„
- [ ] Best Val Loss ê¸°ë¡
- [ ] ì¢Œí‘œ í†µê³„ í™•ì¸
- [ ] ëª¨ë¸ íŒŒì¼ ì €ì¥ í™•ì¸
- [ ] ë‹¤ìŒ ë‹¨ê³„ ê²°ì •

---

## ğŸ¯ ìµœì¢… ëª©í‘œ

> **"V7 ëª¨ë¸ë¡œ LightGBM (14.138m)ì„ ì´ˆê³¼í•˜ì—¬ 13.5~14.0m ë‹¬ì„±"**

### ì„±ê³µ ì§€í‘œ
- âœ… Val Loss < 14.0m
- âœ… Y ì¢Œí‘œ í‘œì¤€í¸ì°¨ > 12.0
- âœ… Fold ê°„ ë¶ˆì¼ì¹˜ < 1.0m
- âœ… Public LB < 14.5m

---

## ğŸ”® í–¥í›„ ê³„íš

### V7 ì„±ê³µ ì‹œ (Val < 14.0m)
1. âœ… 5-Fold ì „ì²´ í•™ìŠµ
2. âœ… TTA ì ìš©
3. âœ… ìµœì¢… ì œì¶œ
4. âœ… ğŸ‰ í”„ë¡œì íŠ¸ ì™„ë£Œ!

### V7 ì¤€ì„±ê³µ ì‹œ (Val 14.0~14.5m)
1. âœ… í•˜ì´í¼íŒŒë¼ë¯¸í„° ë¯¸ì„¸ ì¡°ì •
2. âœ… 5-Fold + TTA
3. âœ… V6 + V7 ì•™ìƒë¸”

### V7 ë¯¸í¡ ì‹œ (Val > 14.5m)
1. ğŸ“Š V6 ì‹œë„ ë° ë¹„êµ
2. ğŸ“Š í”¼ì²˜ ì—”ì§€ë‹ˆì–´ë§ ì¶”ê°€
3. ğŸ“Š LightGBM ì•™ìƒë¸” ê²€í† 

---

## ğŸ‰ ë§ˆë¬´ë¦¬

### ì‘ì—… ì™„ë£Œ ìƒíƒœ: âœ… **100%**

1. âœ… V5 ê²°ê³¼ ë¶„ì„ ì™„ë£Œ
2. âœ… ê·¼ë³¸ ì›ì¸ íŒŒì•… ì™„ë£Œ
3. âœ… V6 ëª¨ë¸ êµ¬í˜„ ì™„ë£Œ
4. âœ… V7 ëª¨ë¸ êµ¬í˜„ ì™„ë£Œ
5. âœ… ë¬¸ì„œ ì‘ì„± ì™„ë£Œ
6. âœ… ì‹¤í–‰ ê°€ì´ë“œ ì‘ì„± ì™„ë£Œ

---

### ë‹¤ìŒ ë‹¨ê³„: ğŸš€ **V7 í•™ìŠµ ì‹œì‘!**

```bash
python train_lstm_v7_augmented.py
```

**ì˜ˆìƒ ì„±ê³µë¥ : 90%**  
**ì˜ˆìƒ ì„±ëŠ¥: 13.5~14.5m**  
**ì˜ˆìƒ ì‹œê°„: 2~3ì‹œê°„**

---

### í•µì‹¬ ë©”ì‹œì§€

> **"V5ëŠ” ì‹¤íŒ¨í–ˆì§€ë§Œ, ìš°ë¦¬ëŠ” ì‹¤íŒ¨ë¡œë¶€í„° ë°°ì› ë‹¤.**  
> **V7ì€ ëª¨ë“  ë¬¸ì œë¥¼ í•´ê²°í–ˆë‹¤.**  
> **ì´ì œ ì„±ê³µë§Œ ë‚¨ì•˜ë‹¤!"** ğŸ¯

---

**ë³´ê³ ì„œ ì‘ì„±ì¼**: 2025-12-19  
**ì‘ì„±ì**: AI Sports Data Analyst  
**í”„ë¡œì íŠ¸**: K-League íŒ¨ìŠ¤ ì˜ˆì¸¡  
**ë²„ì „**: V5 ê²°ê³¼ ë¶„ì„ â†’ V6/V7 êµ¬í˜„  
**ìƒíƒœ**: âœ… ì™„ë£Œ â†’ ğŸš€ V7 ì‹¤í–‰ ëŒ€ê¸°

