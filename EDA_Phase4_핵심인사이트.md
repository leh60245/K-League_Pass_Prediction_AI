# EDA Phase 4 - í”¼ì²˜ íš¨ê³¼ì„± ë¶„ì„ í•µì‹¬ ì¸ì‚¬ì´íŠ¸

**ë¶„ì„ì¼**: 2025-12-16  
**ëª©í‘œ**: í˜„ì¬ í”¼ì²˜ ì„±ëŠ¥ í‰ê°€ ë° ê°œì„  ë°©í–¥ ë„ì¶œ

---

## ğŸ¯ Executive Summary

### ì£¼ìš” ë°œê²¬ ì‚¬í•­

1. **ìœ„ì¹˜ë³„ ì˜ˆì¸¡ ë‚œì´ë„ ì°¨ì´ ê·¹ëª…**
   - ê³µê²©ì§„(70-105m): í‰ê·  ì˜¤ì°¨ 13.28m âœ…
   - ì¤‘ì›(35-70m): í‰ê·  ì˜¤ì°¨ 22.39m âš ï¸
   - ìˆ˜ë¹„ì§„(0-35m): í‰ê·  ì˜¤ì°¨ 26.41m âŒ
   
2. **ê³¨ë¬¸ ê±°ë¦¬ê°€ ê°€ì¥ ê°•ë ¥í•œ ì˜ˆì¸¡ ë³€ìˆ˜**
   - end_x ìƒê´€ê´€ê³„: -0.966 (distance_to_goal_end)
   - í˜ë„í‹° ë°•ìŠ¤ ë‚´: í‰ê·  ì˜¤ì°¨ 8.46m
   - í˜ë„í‹° ë°•ìŠ¤ ì™¸: í‰ê·  ì˜¤ì°¨ 20.66m
   
3. **ë‹¤ì¤‘ê³µì„ ì„± ë¬¸ì œ ì‹¬ê°**
   - 39ê°œì˜ í”¼ì²˜ ìŒì´ |r| > 0.8
   - ì¤‘ë³µ í”¼ì²˜ ì œê±° í•„ìš”
   
4. **ì†ë„ í”¼ì²˜ì˜ ê²°ì¸¡ì¹˜ ë¬¸ì œ**
   - velocity: 11.3% ê²°ì¸¡
   - acceleration: 20.0% ê²°ì¸¡
   - ì—í”¼ì†Œë“œ ì²« ì´ë²¤íŠ¸ì—ì„œ ë°œìƒ
   
5. **Yì¶• ì¤‘ì•™ êµ¬ê°„ì´ ê°€ì¥ ì˜ˆì¸¡ ì–´ë ¤ì›€**
   - ì¤‘ì•™(22.67-45.33m): í‰ê·  ì˜¤ì°¨ 25.93m
   - ì¢Œì¸¡/ìš°ì¸¡: í‰ê·  ì˜¤ì°¨ 17-19m

---

## ğŸ“Š ìƒì„¸ ë¶„ì„ ê²°ê³¼

### 1. ë² ì´ìŠ¤ë¼ì¸ ì„±ëŠ¥ ë¶„ì„

```
í‰ê·  ì˜¤ì°¨: 20.37m (í˜„ì¬ ëª¨ë¸ì´ ì´ê¸¸ ëª©í‘œ)
ì¤‘ì•™ê°’ ì˜¤ì°¨: 15.74m
```

**ì˜¤ì°¨ ë¶„í¬**:
- 50% ì—í”¼ì†Œë“œê°€ 15.74m ì´í•˜ ì˜¤ì°¨
- 25%ê°€ 8.85m ì´í•˜ (ì‰¬ìš´ ì¼€ì´ìŠ¤)
- 25%ê°€ 28.11m ì´ìƒ (ì–´ë ¤ìš´ ì¼€ì´ìŠ¤)

**ê°œì„  ì „ëµ**:
- ìƒìœ„ 25%ì˜ ì–´ë ¤ìš´ ì¼€ì´ìŠ¤ì— ì§‘ì¤‘
- íŠ¹í™”ëœ í”¼ì²˜ í•„ìš”

---

### 2. í”¼ì²˜ í’ˆì§ˆ ì´ìŠˆ

#### 2.1 ê²°ì¸¡ì¹˜
```
acceleration: 20.0% ê²°ì¸¡
velocity: 11.3% ê²°ì¸¡
```

**ì›ì¸**: ì—í”¼ì†Œë“œ ì²« ì´ë²¤íŠ¸ì—ì„œ ì´ì „ ì´ë²¤íŠ¸ê°€ ì—†ì–´ ê³„ì‚° ë¶ˆê°€

**í•´ê²°ì±…**:
1. 0ìœ¼ë¡œ ì±„ìš°ê¸° (í˜„ì¬ ë°©ì‹) âœ…
2. ì—í”¼ì†Œë“œ í‰ê· ìœ¼ë¡œ ì±„ìš°ê¸°
3. ë³„ë„ í”Œë˜ê·¸ ì¶”ê°€ (`is_first_event`)

#### 2.2 ë‚®ì€ ë¶„ì‚° í”¼ì²˜
```
event_density: var=0.0006
shooting_angle: var=0.0061
type_name_encoded: var=0.0127 (ëª¨ë‘ Pass=16)
```

**ë¬¸ì œ**: ì •ë³´ëŸ‰ì´ ë„ˆë¬´ ì ìŒ

**í•´ê²°ì±…**:
1. `type_name_encoded`: ì œê±° (ëª¨ë‘ ë™ì¼ê°’)
2. `event_density`: ì¬ì„¤ê³„ ë˜ëŠ” ì œê±°
3. `shooting_angle`: ë¹„ì„ í˜• ë³€í™˜ (sin/cos)

---

### 3. íƒ€ê²Ÿ ìƒê´€ê´€ê³„

#### end_x ì˜ˆì¸¡ì— ì¤‘ìš”í•œ í”¼ì²˜ Top 10
```
1. distance_to_goal_end: -0.966 â­â­â­
2. distance_to_goal_start: -0.791 â­â­â­
3. start_x: 0.787 â­â­â­
4. start_x_zone_fine: 0.763 â­â­
5. prev_end_x: 0.731 â­â­
6. in_final_third: 0.581 â­
7. x_total_progression: 0.542 â­
8. shooting_angle: 0.465 â­
```

#### end_y ì˜ˆì¸¡ì— ì¤‘ìš”í•œ í”¼ì²˜ Top 10
```
1. start_y: 0.794 â­â­â­
2. start_y_zone: 0.760 â­â­
3. prev_end_y: 0.757 â­â­
4. prev_start_y: 0.634 â­
5. delta_y: 0.483 â­
6. velocity_y: 0.054
(ë‚˜ë¨¸ì§€ëŠ” ìƒê´€ê´€ê³„ < 0.05)
```

**í•µì‹¬ ì¸ì‚¬ì´íŠ¸**:
- **end_x**: ê³¨ë¬¸ ê±°ë¦¬, ì‹œì‘ ìœ„ì¹˜, ì „ì§„ë„ê°€ ì¤‘ìš”
- **end_y**: ê±°ì˜ start_yë§Œìœ¼ë¡œ ê²°ì • (0.794)
- Yì¶• ì˜ˆì¸¡ì´ Xì¶•ë³´ë‹¤ ë‹¨ìˆœí•¨

---

### 4. ë‹¤ì¤‘ê³µì„ ì„± ë¬¸ì œ âš ï¸

**ì‹¬ê°í•œ ì¤‘ë³µ í”¼ì²˜ ìŒ** (|r| > 0.95):
```
1. start_x â†” start_x_norm: 1.000 (ì™„ì „ ì¤‘ë³µ)
2. start_y â†” start_y_norm: 1.000 (ì™„ì „ ì¤‘ë³µ)
3. distance_to_goal_start â†” start_x: -0.980
4. start_x â†” start_x_zone_fine: 0.972
5. end_x_norm â†” distance_to_goal_end: -0.966
```

**ì œê±° ëŒ€ìƒ**:
- `start_x_norm`, `start_y_norm` (ì •ê·œí™” ë²„ì „ ì œê±°, ì›ë³¸ ìœ ì§€)
- `end_x_norm`, `end_y_norm` (íƒ€ê²Ÿ íŒŒìƒ ë³€ìˆ˜)
- `start_x_zone_fine` (start_xì™€ ê±°ì˜ ë™ì¼ ì •ë³´)

**ê²°ê³¼**: ì•½ 5-10ê°œ í”¼ì²˜ ì œê±° ê°€ëŠ¥ â†’ ëª¨ë¸ ë‹¨ìˆœí™” + ê³¼ì í•© ë°©ì§€

---

### 5. ì˜¤ë¥˜ íŒ¨í„´ ë¶„ì„

#### 5.1 ìœ„ì¹˜ë³„ ë‚œì´ë„
```
Xì¶•:
- ê³µê²©ì§„(70-105m): 13.28m âœ… (ì˜ˆì¸¡ ì‰¬ì›€)
- ì¤‘ì›(35-70m): 22.39m âš ï¸
- ìˆ˜ë¹„ì§„(0-35m): 26.41m âŒ (ì˜ˆì¸¡ ì–´ë ¤ì›€)

Yì¶•:
- ì¢Œì¸¡(0-22.67m): 19.19m
- ì¤‘ì•™(22.67-45.33m): 25.93m âŒ (ì˜ˆì¸¡ ì–´ë ¤ì›€)
- ìš°ì¸¡(45.33-68m): 17.65m
```

**ì´ìœ **:
- **ìˆ˜ë¹„ì§„**: ë‹¤ì–‘í•œ ë°©í–¥ ì „ê°œ ê°€ëŠ¥ (ë¶ˆí™•ì‹¤ì„± ë†’ìŒ)
- **ê³µê²©ì§„**: ê³¨ë¬¸ ë°©í–¥ìœ¼ë¡œ ì œí•œì  (ë¶ˆí™•ì‹¤ì„± ë‚®ìŒ)
- **Yì¶• ì¤‘ì•™**: ì¢Œìš° ì–‘ìª½ìœ¼ë¡œ ê°ˆ ìˆ˜ ìˆìŒ

#### 5.2 ê³¨ë¬¸ ê±°ë¦¬ë³„ ë‚œì´ë„
```
0-20m: 8.71m âœ… (ìŠˆíŒ…/í¬ë¡œìŠ¤ ëª…í™•)
20-40m: 14.59m
40-60m: 20.68m
60-80m: 23.41m
80-150m: 27.07m âŒ (ë¡±íŒ¨ìŠ¤ ë¶ˆí™•ì‹¤)
```

#### 5.3 ì†ë„ Ã— ê±°ë¦¬ ìƒí˜¸ì‘ìš©
```
ëŠë¦° ì†ë„ Ã— ì§§ì€ ê±°ë¦¬: 5.23m âœ…
ëŠë¦° ì†ë„ Ã— ê¸´ ê±°ë¦¬: 18.26m
ë¹ ë¥¸ ì†ë„ Ã— ê¸´ ê±°ë¦¬: 16.29m âœ… (ë” ì •í™•!)
```

**ì¸ì‚¬ì´íŠ¸**: ë¹ ë¥¸ ì†ë„ì¼ ë•Œ ê¸´ ê±°ë¦¬ë„ ì •í™• â†’ ì˜ë„ì ì¸ ë¡±íŒ¨ìŠ¤

---

## ğŸ’¡ í”¼ì²˜ ê°œì„  Action Plan

### Priority 1: ë‹¤ì¤‘ê³µì„ ì„± ì œê±° (ì¦‰ì‹œ ì ìš©)
```python
# ì œê±°í•  í”¼ì²˜
remove_features = [
    'start_x_norm', 'start_y_norm',  # ì¤‘ë³µ
    'end_x_norm', 'end_y_norm',      # íƒ€ê²Ÿ íŒŒìƒ
    'start_x_zone_fine',             # start_xì™€ 0.972 ìƒê´€
    'type_name_encoded',             # ëª¨ë‘ ë™ì¼ê°’
]
```

**ì˜ˆìƒ íš¨ê³¼**: ê³¼ì í•© ê°ì†Œ, í•™ìŠµ ì†ë„ í–¥ìƒ

---

### Priority 2: ë¹„ì„ í˜• ë³€í™˜ ì¶”ê°€ (ì¤‘ìš”ë„ ë†’ìŒ)
```python
# 1. ê³¨ë¬¸ ê±°ë¦¬ ì—­ìˆ˜ (ê°€ê¹Œìš¸ìˆ˜ë¡ ë” í° ê°€ì¤‘ì¹˜)
data['distance_to_goal_inv'] = 1 / (data['distance_to_goal_start'] + 1)

# 2. ê°ë„ì˜ ì‚¼ê°í•¨ìˆ˜
data['shooting_angle_sin'] = np.sin(data['shooting_angle'])
data['shooting_angle_cos'] = np.cos(data['shooting_angle'])

# 3. ìœ„ì¹˜ì˜ ì œê³±/ì œê³±ê·¼
data['start_x_squared'] = data['start_x'] ** 2
data['start_y_squared'] = data['start_y'] ** 2

# 4. ìƒí˜¸ì‘ìš© í”¼ì²˜
data['x_y_interaction'] = data['start_x'] * data['start_y']
data['goal_dist_angle'] = data['distance_to_goal_start'] * data['shooting_angle']
```

**ì˜ˆìƒ íš¨ê³¼**: ë¹„ì„ í˜• íŒ¨í„´ í¬ì°©, ìƒê´€ê´€ê³„ 0.79 â†’ 0.85+ ëª©í‘œ

---

### Priority 3: ìœ„ì¹˜ë³„ íŠ¹í™” í”¼ì²˜ (ë‚œì´ë„ ë†’ìŒ)
```python
# 1. ìˆ˜ë¹„ì§„ íŠ¹í™” (ë¶ˆí™•ì‹¤ì„± ë†’ì€ êµ¬ê°„)
data['is_defensive_third'] = (data['start_x'] < 35).astype(int)
data['defensive_options'] = ...  # ì „ê°œ ê°€ëŠ¥ ë°©í–¥ ìˆ˜

# 2. ê³µê²©ì§„ íŠ¹í™” (ê³¨ ê·¼ì²˜)
data['goal_urgency'] = np.exp(-data['distance_to_goal_start'] / 20)
data['final_pass_prob'] = ...  # ë§ˆì§€ë§‰ íŒ¨ìŠ¤ í™•ë¥ 

# 3. Yì¶• ì¤‘ì•™ êµ¬ê°„ (ì˜ˆì¸¡ ì–´ë ¤ì›€)
data['is_central_corridor'] = ((data['start_y'] > 20) & 
                                (data['start_y'] < 48)).astype(int)
```

---

### Priority 4: ìƒˆë¡œìš´ ì»¨í…ìŠ¤íŠ¸ í”¼ì²˜
```python
# 1. ì„ ìˆ˜ ì—­í•  (player_id í™œìš©)
player_stats = train_data.groupby('player_id').agg({
    'start_x': 'mean',  # í‰ê·  í™œë™ ìœ„ì¹˜
    'distance': 'mean',  # í‰ê·  íŒ¨ìŠ¤ ê±°ë¦¬
}).rename(columns={'start_x': 'player_avg_x', 'distance': 'player_avg_dist'})

# 2. íŒ€ ì „ìˆ  ìŠ¤íƒ€ì¼ (team_id í™œìš©)
team_stats = train_data.groupby('team_id').agg({
    'x_total_progression': 'mean',
    'episode_length': 'mean',
}).rename(columns={'x_total_progression': 'team_aggression'})

# 3. ì‹œê°„ ì••ë°• (ê²½ê¸° ì¢…ë£Œ ì„ë°•)
data['time_pressure'] = np.maximum(0, (2700 - data['time_seconds']) / 2700)

# 4. ì—°ì† ì„±ê³µ íŒ¨ìŠ¤ (ì—í”¼ì†Œë“œ ë‚´)
data['success_streak'] = ...  # ì§ì „ê¹Œì§€ ì„±ê³µí•œ íŒ¨ìŠ¤ ìˆ˜
```

---

### Priority 5: ê²°ì¸¡ì¹˜ ì²˜ë¦¬ ê°œì„ 
```python
# 1. ì—í”¼ì†Œë“œ ì²« ì´ë²¤íŠ¸ í”Œë˜ê·¸
data['is_first_event'] = (data['event_order'] == 0).astype(int)

# 2. ê²°ì¸¡ì¹˜ë¥¼ ì—í”¼ì†Œë“œ í‰ê· ìœ¼ë¡œ ëŒ€ì²´
for col in ['velocity', 'acceleration']:
    episode_mean = data.groupby('game_episode')[col].transform('mean')
    data[col] = data[col].fillna(episode_mean)
```

---

## ğŸ“ˆ ì˜ˆìƒ ì„±ëŠ¥ ê°œì„  ë¡œë“œë§µ

```
í˜„ì¬ (ë² ì´ìŠ¤ë¼ì¸): 20.37m

Step 1: ë‹¤ì¤‘ê³µì„ ì„± ì œê±°
â†’ ì˜ˆìƒ: 20.37m (ì„±ëŠ¥ ìœ ì§€, ê³¼ì í•© ê°ì†Œ)

Step 2: ë¹„ì„ í˜• ë³€í™˜ ì¶”ê°€
â†’ ì˜ˆìƒ: 18.5m ~ 19.5m (ì•½ 5-10% ê°œì„ )

Step 3: ìœ„ì¹˜ë³„ íŠ¹í™” í”¼ì²˜
â†’ ì˜ˆìƒ: 17.0m ~ 18.0m (ì¶”ê°€ 8-10% ê°œì„ )

Step 4: ì»¨í…ìŠ¤íŠ¸ í”¼ì²˜ (ì„ ìˆ˜/íŒ€)
â†’ ì˜ˆìƒ: 15.5m ~ 16.5m (ì¶”ê°€ 5-8% ê°œì„ )

ìµœì¢… ëª©í‘œ: < 15m (ë² ì´ìŠ¤ë¼ì¸ ëŒ€ë¹„ 26% ê°œì„ )
```

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

1. **ì¦‰ì‹œ ì‹¤í–‰**: ë‹¤ì¤‘ê³µì„ ì„± ì œê±° (preprocessing.py ìˆ˜ì •)
2. **1ìˆœìœ„**: ë¹„ì„ í˜• ë³€í™˜ í”¼ì²˜ ì¶”ê°€
3. **2ìˆœìœ„**: ìœ„ì¹˜ë³„ íŠ¹í™” í”¼ì²˜
4. **3ìˆœìœ„**: ì„ ìˆ˜/íŒ€ ì»¨í…ìŠ¤íŠ¸ í”¼ì²˜
5. **ê²€ì¦**: ê° ë‹¨ê³„ë§ˆë‹¤ ëª¨ë¸ ì¬í•™ìŠµ ë° ì„±ëŠ¥ ì¸¡ì •

---

## ğŸ“ ì°¸ê³  ìë£Œ

- EDA Phase 1-3: ê¸°ë³¸ ë°ì´í„° ì´í•´
- EDA Phase 4: ìƒì„¸ ë¶„ì„ ê²°ê³¼ (archive/EDA_Phase4_Feature_Analysis_20251216_160239.txt)
- í˜„ì¬ preprocessing.py: 54ê°œ í”¼ì²˜ ìƒì„± ì¤‘
- í˜„ì¬ ìµœê³  ëª¨ë¸: 3ì¢… ì•™ìƒë¸” (0.62m validation)

---

**ì‘ì„±ì**: AI Feature Engineering System  
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-12-16

